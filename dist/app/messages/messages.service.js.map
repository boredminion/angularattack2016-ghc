{"version":3,"file":"messages.service.js","sourceRoot":"","sources":["messages.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAyB,eAAe,CAAC,CAAA;AACzC,6BAAkD,cAAc,CAAC,CAAA;AACjE,6BAA0B,wBAAwB,CAAC,CAAA;AAEnD,wBAAgC,WAAW,CAAC,CAAA;AAG5C;IAIE,yBAAoB,EAAe,EAAU,WAAwB;QAAjD,OAAE,GAAF,EAAE,CAAa;QAAU,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAEzE,qCAAW,GAAX;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAuC,CAAC;QAC1F,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,EAAC,KAAK,EAAE,EAAC,WAAW,EAAE,EAAE,EAAC,EAAC,CAAuC,CAAC;IAC/H,CAAC;IAED,wCAAc,GAAd,cAAyB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IAEvE,qCAAW,GAAX,UAAY,IAAY;QACtB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,iBAAO,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;IAC9H,CAAC;IAhBH;QAAC,iBAAU,EAAE;;uBAAA;IAiBb,sBAAC;AAAD,CAAC,AAhBD,IAgBC;AAhBY,uBAAe,kBAgB3B,CAAA","sourcesContent":["import {Injectable} from '@angular/core';\nimport {AngularFire, FirebaseListObservable} from 'angularfire2';\nimport {AuthService} from '../shared/auth.service';\nimport {Observable} from 'rxjs/Rx';\nimport {IMessage, Message} from './message';\n\n@Injectable()\nexport class MessagesService {\n  messages$: FirebaseListObservable<IMessage[]>;\n  limitedMessages$: FirebaseListObservable<IMessage[]>;\n\n  constructor(private af: AngularFire, private authService: AuthService) {}\n\n  getMessages(): void {\n    this.messages$ = this.af.database.list('/messages') as FirebaseListObservable<IMessage[]>;\n    this.limitedMessages$ = this.af.database.list('/messages', {query: {limitToLast: 20}}) as FirebaseListObservable<IMessage[]>;\n  }\n\n  removeMessages(): void { this.af.database.list(`/messages`).remove(); }\n\n  sendMessage(text: string): Promise<any> {\n    return this.messages$.push(new Message(text, this.authService.username, this.authService.id, this.authService.profileLink));\n  }\n}\n"]}